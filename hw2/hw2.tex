%        File: hw2.tex
%     Created: Tue Feb 21 10:00 AM 2017 C
% Last Change: Tue Feb 21 10:00 AM 2017 C
%

\documentclass[a4paper]{article}

\title{Math 8652 Homework 2}
\date{2/27/17}
\author{Trevor Steil}

\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{amssymb}
\usepackage{esint}
\usepackage{enumitem}
\usepackage{algorithm}
\usepackage{algorithmicx}
\usepackage{algpseudocode}
\usepackage{bbm}
\usepackage{xcolor}

\newtheorem{theorem}{Theorem}[section]
\newtheorem{corollary}{Corollary}[section]
\newtheorem{proposition}{Proposition}[section]
\newtheorem{lemma}{Lemma}[section]
\newtheorem*{claim}{Claim}
%\newtheorem*{problem}{Problem}
%\newtheorem*{lemma}{Lemma}
\newtheorem{definition}{Definition}[section]

\newcommand{\R}{\mathbb{R}}
\newcommand{\N}{\mathbb{N}}
\newcommand{\C}{\mathbb{C}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\E}{\mathbb{E}}
\newcommand{\supp}[1]{\mathop{\mathrm{supp}}\left(#1\right)}
\newcommand{\lip}[1]{\mathop{\mathrm{Lip}}\left(#1\right)}
\newcommand{\curl}{\mathrm{curl}}
\newcommand{\la}{\left \langle}
\newcommand{\ra}{\right \rangle}
\renewcommand{\vec}[1]{\mathbf{#1}}
\renewcommand{\div}{\mathrm{div}}

\newenvironment{problem}{\textbf{Problem.}}

\newenvironment{solution}[1][]{\emph{Solution #1}}

\algnewcommand{\Or}{\textbf{ or }}
\algnewcommand{\And}{\textbf{ or }}

\begin{document}
\maketitle

\begin{enumerate}
  \item
    \begin{problem}
      Assume that $S$ and $T$ are stopping times for $\{ \mathcal{F}_n \}$. Then, is $S+T$ necessarily a stopping time? $S-T$?
    \end{problem}

    \begin{solution}
      $S+T$ is a stopping time. Because $S$ and $T$ are positive random variables, $S+T$ is as well. If $S+T=n$, then $S=k$ and $T=n-k$ for some
      $0 \leq k \leq n$. Then we can express
      \[ \{ \omega : S+T=n \} = \bigcup_{k=0}^n \left( \{ \omega : S = k \} \cap \{ \omega : T = n-k\} \right) .\]

      Because $S$ is a stopping time, $0 \leq k \leq n$, and $\mathcal{F}_n \uparrow$, we know
      \[\{ \omega : S = k \} \in \mathcal{F}_k \subset \mathcal{F}_n .\]

      Similarly,
      \[ \{ \omega : T = n - k \} \in \mathcal{F}_n .\]

      Because $\mathcal{F}_n$ is a $\sigma$-algebra,
      \[ \{ \omega : S + T = n \} \in \mathcal{F}_n \]
      as we have expressed it as a finite union and intersection of sets in $\mathcal{F}_n$. Therefore, $S+T$ is a stopping time.

      $S-T$ is not necessarily a stopping time. For example, if $S=1$ and $T=2$, then $S-T=-1$ is not a positive random variable.

    \end{solution}

  \item
    \begin{problem}
      True or false: Suppose $(\Omega, \mathcal{F}, P)$ and $\mathcal{F}_n \uparrow$ are given. Then, any sequence of integrable random
      variables $\{X_n\}$ with $X_n \in \mathcal{F}_n$ can be written as a sum of a supermartingale and a submartingale.
    \end{problem}

    \begin{solution}

    \end{solution}

  \item
    \begin{problem}
      Let $\{M_n, \mathcal{F}_n\}$ be a martingale with $\sup_n \E [(M_n)^2] < \infty$.
      \begin{enumerate}
        \item
          Show that $\{M_n\}$ is Cauchy in the metric $d(X,Y) = \sqrt{\E[(X-Y)^2]}$.
        \item
          Show that $\{M_n, \mathcal{F}_n\}$ is closed. Do not use uniform integrability or the proof (starting from uniform integrability) we gave in
          class.
      \end{enumerate}
    \end{problem}

    \begin{solution}

      \begin{enumerate}
        \item
          We will need the following:
          \begin{lemma}
            Let $n,k>0$. Then
            \[ \E[ M_{n+k} | \mathcal{F}_n ] = X_n .\]
          \end{lemma}
          \begin{proof}
            We will prove this by induction on $k$. By definition,
            \[ \E[ M_{n+1} | \mathcal{F}_n ] = X_n ,\]
            giving our base case.

            Let $k>1$. Then
            \begin{align*}
              \E[ M_{n+k} | \mathcal{F}_n ] &= \E[ \E[ M_{n+k} | \mathcal{F}_{n+k-1} ] | \mathcal{F}_n ] \quad \parbox{5cm}{because $\mathcal{F}_n
              \subset \mathcal{F}_{n+k-1}$} \\
              &= \E[ M_{n+k-1} | \mathcal{F}_n ] \quad \parbox{5cm}{by definition of a martingale} \\
              &= X_n \quad \parbox{5cm}{by induction}
            \end{align*}

            Thus we have the result.
          \end{proof}
      \end{enumerate}<++>

    \end{solution}

  \item
    \begin{problem}
      True or false: There are martingales $\{M_n, \mathcal{F}_n\}$ such that $M_n \to -\infty$ a.s.
    \end{problem}

    \begin{solution}

      This is true.

      Let $\{ \xi_i \}$ be independent random variables with $P(\xi_i = i^2) = \frac{1}{i^2}$ and $P \left( \xi_i = -\frac{i^2}{i^2-1} \right) = 1 -
      \frac{1}{i^2}$. Notice $E[ \xi_i ] = 0$. We also know
      \begin{align*}
        \sum_{i=1}^\infty P( \xi_i = i^2 ) &= \sum_{i=1}^\infty \frac{1}{i^2} \\
        &< \infty
      \end{align*}

      Therefore, by Borel-Cantelli, $P(\xi_i = i^2 \text{ i.o.}) = 0$ a.s. This means ${ \xi_i = -\frac{i^2}{i^2 - 1} \leq -1 }$ for all but finitely many $i$ a.s.

      By defining
      \[ X_n = \sum_{i=1}^n \xi_i ,\]
      we then have $X_n \to -\infty$ a.s. as $n \to \infty$. Let $\mathcal{F}_n = \sigma(X_1, \dots, X_n)$. Then for any $n$,
      \begin{align*}
        \E[ X_{n+1} | \mathcal{F}_n ] &= \E[ X_n + \xi_{n+1} | \mathcal{F}_n ] \\
        &= X_n + \E[ \xi_{n+1} | \mathcal{F}_n ] \quad \parbox{5cm}{because $X_n \in \mathcal{F}_n$} \\
        &= X_n + \E[ \xi_{n+1} ] \quad \parbox{5cm}{because the $\xi_i$ are independent} \\
        &= X_n
      \end{align*}

      Therefore, $\{ X_n, \mathcal{F}_n \}$ is a martingale such that $X_n \to -\infty$ a.s.

    \end{solution}

\end{enumerate}
\end{document}


